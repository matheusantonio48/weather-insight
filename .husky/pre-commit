. "$(dirname "$0")/_/husky.sh"

echo ''
echo 'ğŸš€ Iniciando a checagem de formataÃ§Ã£o, problemas de sintaxe, tipagem e construÃ§Ã£o.'
echo ''

npm run prepare-commit

echo 'ğŸ”¨ Verificando os testes'
npm run test ||
(
    echo 'ğŸ’¥ğŸ‘·ğŸ”¨ğŸ’¥ Ocorreu um problema ao rodar os testes ğŸ’¥ğŸ‘·ğŸ”¨ğŸ’¥
           Verifique os erros informados, corrija e faÃ§a o commit novamente. 
    '
    false;
)

echo 'ğŸ”¨ Inicializando a construÃ§Ã£o do projeto (Building)'
npm run build ||
(
    echo 'ğŸ’¥ğŸ‘·ğŸ”¨ğŸ’¥ Ocorreu um erro na construÃ§Ã£o (Build) do projeto ğŸ’¥ğŸ‘·ğŸ”¨ğŸ’¥
           Verifique os erros informados, corrija e faÃ§a o commit novamente. 
    '
    false;
)
echo 'âœ… Projeto construÃ­do com sucesso!'
echo 'âœ… Codigo sem erros de formataÃ§Ã£o, tipagem, sintaxe e construÃ§Ã£o!'
echo 'ğŸ“¦ï¸ Commit realizado, faÃ§a o git push para enviar ao repositÃ³rio remoto.'
echo ''
